<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.camcam.mypage.mapper.MyPageMapper">
	
	<select id="selectMypage" resultType="com.camcam.user.vo.UserVO">
		select * 
		from users
		where user_id = #{userId}
	</select>
	
	<select id="selectMyboard" resultType="com.camcam.product.vo.QnAVO" parameterType="string">
		select * 
		from qna
		where user_id = #{userId}
	</select>
	
	<select id="selectBoardNo" resultType="com.camcam.product.vo.QnAVO" >
		select *
		from qna
		where board_no = #{boardNo} 
		and board_pw = nvl(#{pw}, board_pw)
	</select>
	
	<delete id="deleteBoardNo" parameterType="int">
		delete from qna where board_no = #{boardNo}
	</delete>
	
	<update id="updateBoardNo" parameterType="com.camcam.product.vo.QnAVO">
		update qna
		set title = #{title}, content = #{content}
		where board_no = #{boardNo}
	</update>
	
	<select id="selectMyorder" resultType="com.camcam.order.vo.OrderVO">
		select * 
		from orders
		where user_id = #{userId}
	</select>
	
	<select id="getBoardpw" resultType="string">
		select board_pw
		from qna
		where board_no = #{boardNo}
	</select>
	
	
</mapper>